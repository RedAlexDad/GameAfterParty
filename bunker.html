<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–£–ù–ö–ï–† –í–´–ñ–ò–í–ê–ù–ò–ï</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .game-container {
            width: 100%;
            max-width: 1400px;
            background: #0f1419;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7), 0 0 40px rgba(255, 0, 0, 0.3);
            padding: 30px;
            color: white;
            border: 3px solid #ff4444;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #ff4444;
            padding-bottom: 20px;
        }

        .header h1 {
            font-size: 3.5em;
            margin-bottom: 10px;
            color: #ff4444;
            text-shadow: 0 0 20px rgba(255, 68, 68, 0.8), 3px 3px 6px rgba(0, 0, 0, 0.9);
            letter-spacing: 2px;
        }

        .header p {
            font-size: 1.3em;
            color: #ffaa00;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .scenario-box {
            background: rgba(255, 68, 68, 0.1);
            border: 2px solid #ff4444;
            padding: 15px;
            border-radius: 10px;
            color: #ffcccc;
            font-size: 1em;
            line-height: 1.6;
        }

        .scores {
            display: flex;
            justify-content: space-around;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .score-box {
            background: linear-gradient(135deg, #ff4444, #cc0000);
            padding: 20px 30px;
            border-radius: 15px;
            text-align: center;
            min-width: 160px;
            border: 2px solid #ffaa00;
            box-shadow: 0 0 15px rgba(255, 68, 68, 0.5);
        }

        .score-box h3 {
            font-size: 1em;
            margin-bottom: 10px;
            color: #ffff00;
        }

        .score-box .score {
            font-size: 2em;
            font-weight: bold;
            color: white;
        }

        .game-info {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.1em;
            color: #ffaa00;
        }

        .game-info strong {
            color: #ffff00;
        }

        .game-board {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
            margin-bottom: 30px;
        }

        .cell {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #1a3a52, #0f2540);
            border: 3px solid #ff4444;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
            color: white;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            text-align: center;
            box-shadow: 0 0 10px rgba(255, 68, 68, 0.3), inset 0 0 10px rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .cell::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent 0%, rgba(255, 255, 255, 0.1) 100%);
            pointer-events: none;
        }

        .cell:hover:not(:disabled):not(.answered) {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 68, 68, 0.7), 0 0 30px rgba(255, 255, 0, 0.3), inset 0 0 10px rgba(255, 255, 255, 0.1);
            background: linear-gradient(135deg, #2a4a62, #1f3550);
        }

        .cell.answered-correct {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            border-color: #38ef7d;
            box-shadow: 0 0 20px rgba(56, 239, 125, 0.8);
            color: #0f1419;
            font-weight: bold;
        }

        .cell.answered-wrong {
            background: linear-gradient(135deg, #333333, #555555);
            border-color: #666666;
            box-shadow: 0 0 10px rgba(100, 100, 100, 0.5);
            color: #888888;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .cell-number {
            font-size: 0.8em;
            opacity: 0.7;
            display: block;
        }

        .cell-text {
            font-size: 1.2em;
            display: block;
            margin-top: 5px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, #0f1419, #1a2332);
            padding: 40px;
            border-radius: 15px;
            max-width: 700px;
            width: 90%;
            text-align: center;
            border: 3px solid #ff4444;
            box-shadow: 0 0 40px rgba(255, 68, 68, 0.5);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-content h2 {
            color: #ffaa00;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .modal-content p {
            font-size: 1.1em;
            margin-bottom: 15px;
            line-height: 1.6;
            color: #ffffff;
        }

        .question-scenario {
            background: rgba(255, 68, 68, 0.1);
            border: 2px solid #ff4444;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            color: #ffcccc;
            font-style: italic;
        }

        .question-text {
            background: #1a2332;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-size: 1.2em;
            color: #ffff00;
            border: 2px solid #ff6666;
        }

        .emoji-decoration {
            font-size: 3em;
            margin: 15px 0;
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .btn {
            background: linear-gradient(135deg, #ff4444, #cc0000);
            color: white;
            border: 2px solid #ffaa00;
            padding: 12px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(255, 68, 68, 0.5);
        }

        .btn:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 68, 68, 0.8);
            background: linear-gradient(135deg, #ff6666, #ff0000);
        }

        .btn-correct {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            border-color: #38ef7d;
            color: #0f1419;
        }

        .btn-wrong {
            background: linear-gradient(135deg, #666666, #999999);
            border-color: #999999;
        }

        .btn-neutral {
            background: linear-gradient(135deg, #ff4444, #cc0000);
            border-color: #ffaa00;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin: 20px 0;
        }

        .option-btn {
            background: linear-gradient(135deg, #1a3a52, #0f2540);
            color: white;
            border: 2px solid #ff4444;
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            text-align: left;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .option-btn:hover:not(:disabled) {
            background: linear-gradient(135deg, #2a4a62, #1f3550);
            border-color: #ffaa00;
            transform: translateX(5px);
            box-shadow: 0 0 15px rgba(255, 170, 0, 0.5);
        }

        .option-btn.selected {
            background: linear-gradient(135deg, #ffaa00, #ffff00);
            color: #0f1419;
            border-color: #ffff00;
        }

        .option-btn:disabled {
            cursor: not-allowed;
        }

        .game-end {
            text-align: center;
        }

        .game-end h2 {
            font-size: 2.5em;
            color: #ffaa00;
            margin-bottom: 20px;
        }

        .winner {
            font-size: 1.3em;
            margin: 20px 0;
            color: #ffff00;
        }

        .reset-btn-container {
            text-align: center;
            margin-top: 30px;
        }

        @media (max-width: 1024px) {
            .game-board {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 768px) {
            .game-board {
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
            }

            .header h1 {
                font-size: 2em;
            }

            .cell {
                font-size: 0.9em;
            }

            .score-box {
                min-width: 120px;
                padding: 15px 20px;
            }
        }

        @media (max-width: 480px) {
            .game-board {
                grid-template-columns: repeat(2, 1fr);
            }

            .header h1 {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>üö® –ë–£–ù–ö–ï–† –í–´–ñ–ò–í–ê–ù–ò–ï üö®</h1>
            <p>–ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞ –Ω–∞—Å—Ç—É–ø–∏–ª–∞. –ß—Ç–æ –¥–µ–ª–∞—Ç—å, —á—Ç–æ–±—ã –≤—ã–∂–∏—Ç—å?</p>
            <div class="scenario-box" id="scenarioDisplay"></div>
        </div>

        <div class="scores">
            <div class="score-box">
                <h3>üé® FRONTEND –ö–æ–º–∞–Ω–¥–∞</h3>
                <div class="score" id="team1Score">0</div>
            </div>
            <div class="score-box">
                <h3>üîß BACKEND –ö–æ–º–∞–Ω–¥–∞</h3>
                <div class="score" id="team2Score">0</div>
            </div>
        </div>

        <div class="game-info">
            –•–æ–¥: <strong id="currentTeam">FRONTEND</strong> | 
            –ù—É–∂–Ω–æ –Ω–∞–±—Ä–∞—Ç—å 5 –∫–ª–µ—Ç–æ–∫ –ø–æ–¥—Ä—è–¥ –¥–ª—è –ø–æ–±–µ–¥—ã
        </div>

        <div class="game-board" id="gameBoard"></div>

        <div class="reset-btn-container">
            <button class="btn btn-neutral" onclick="resetGame()">üîÑ –ù–æ–≤–∞—è –ò–≥—Ä–∞</button>
        </div>
    </div>

    <div class="modal" id="questionModal">
        <div class="modal-content" id="modalContent"></div>
    </div>

    <script>
        const scenarios = [
            {
                name: "üí• –ó–ï–ú–õ–ï–¢–†–Ø–°–ï–ù–ò–ï –ú–ê–ì–ù–ò–¢–£–î–û–ô 8.5",
                description: "–ú–æ—â–Ω–æ–µ –∑–µ–º–ª–µ—Ç—Ä—è—Å–µ–Ω–∏–µ —Ä–∞–∑—Ä—É—à–∏–ª–æ –≥–æ—Ä–æ–¥. –í—ã –≤ –±—É–Ω–∫–µ—Ä–µ, –Ω—É–∂–Ω–æ –≤—ã–∂–∏—Ç—å!",
                questions: [
                    { q: "–ü–µ—Ä–≤–æ–µ, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∏ –∑–µ–º–ª–µ—Ç—Ä—è—Å–µ–Ω–∏–∏?", opts: ["–í—Å—Ç–∞—Ç—å –∏ –±–µ–∂–∞—Ç—å", "–£–∫—Ä—ã—Ç—å—Å—è –ø–æ–¥ —Å—Ç–æ–ª–æ–º –∏–ª–∏ –≤ –¥–≤–µ—Ä–Ω–æ–º –ø—Ä–æ—ë–º–µ", "–í—ã–±–µ–∂–∞—Ç—å –Ω–∞ —É–ª–∏—Ü—É", "–í–∫–ª—é—á–∏—Ç—å —Ç–µ–ª–µ–≤–∏–∑–æ—Ä"], correct: 1 },
                    { q: "–ö–∞–∫ –¥–æ–ª–≥–æ –¥–ª–∏—Ç—Å—è —Å–∏–ª—å–Ω–æ–µ –∑–µ–º–ª–µ—Ç—Ä—è—Å–µ–Ω–∏–µ?", opts: ["30 —Å–µ–∫ - 1 –º–∏–Ω", "5-10 –º–∏–Ω—É—Ç", "20 –º–∏–Ω—É—Ç", "–ß–∞—Å"], correct: 0 },
                    { q: "–ß—Ç–æ –≤–∑—è—Ç—å —Å —Å–æ–±–æ–π –≤ –±—É–Ω–∫–µ—Ä –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å?", opts: ["–î–æ–∫—É–º–µ–Ω—Ç—ã –∏ –¥–µ–Ω—å–≥–∏", "–í–æ–¥—É, –µ–¥—É, –ª–µ–∫–∞—Ä—Å—Ç–≤–∞, –¥–æ–∫—É–º–µ–Ω—Ç—ã", "–í–µ—Å—å –±–∞–≥–∞–∂", "–¢–æ–ª—å–∫–æ –≤–æ–¥—É"], correct: 1 },
                    { q: "–ö–∞–∫ —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –ø–∏—Ç—å –≤–æ–¥—É –≤ –±—É–Ω–∫–µ—Ä–µ?", opts: ["–¢–æ–ª—å–∫–æ –ø—Ä–∏ –∂–∞–∂–¥–µ", "–ü–æ–Ω–µ–º–Ω–æ–≥—É, –Ω–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ", "–†–∞–∑ –≤ –¥–µ–Ω—å", "–ù–∏–∫–æ–≥–¥–∞"], correct: 1 },
                    { q: "–°–∫–æ–ª—å–∫–æ –≤–æ–¥—ã –Ω—É–∂–Ω–æ –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞ –≤ –¥–µ–Ω—å?", opts: ["0.5–ª", "1–ª", "2-3–ª", "5–ª"], correct: 2 }
                ]
            },
            {
                name: "‚ò¢Ô∏è –Ø–î–ï–†–ù–û–ï –û–ë–õ–ê–ö–û",
                description: "–ù–∞ –≥–æ—Ä–æ–¥ –∏–¥–µ—Ç —è–¥–µ—Ä–Ω–æ–µ –æ–±–ª–∞–∫–æ! –ë—ã—Å—Ç—Ä–æ –≤ –±—É–Ω–∫–µ—Ä!",
                questions: [
                    { q: "–ü–µ—Ä–≤—ã–π –ø—Ä–∏–∑–Ω–∞–∫ —è–¥–µ—Ä–Ω–æ–≥–æ –≤–∑—Ä—ã–≤–∞?", opts: ["–®—É–º", "–Ø—Ä–∫–∞—è –≤—Å–ø—ã—à–∫–∞ —Å–≤–µ—Ç–∞", "–¢–æ–ª—á–∫–∏ –≤ –∑–µ–º–ª–µ", "–†–∞–¥–∏–∞—Ü–∏—è"], correct: 1 },
                    { q: "–ö–∞–∫ –¥–æ–ª–≥–æ –Ω—É–∂–Ω–æ –ø—Ä—è—Ç–∞—Ç—å—Å—è –≤ –±—É–Ω–∫–µ—Ä–µ –ø–æ—Å–ª–µ –≤–∑—Ä—ã–≤–∞?", opts: ["30 –º–∏–Ω—É—Ç", "2-3 —á–∞—Å–∞", "24 —á–∞—Å–∞", "7 –¥–Ω–µ–π"], correct: 2 },
                    { q: "–ß—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —Ä–∞–¥–∏–∞—Ü–∏–∏ –≤ –±—É–Ω–∫–µ—Ä–µ?", opts: ["–¢–æ–ª—Å—Ç—ã–µ —Å—Ç–µ–Ω—ã –∏–∑ –±–µ—Ç–æ–Ω–∞", "–¢–æ–ª—å–∫–æ –≤–æ–¥–∞", "–ù–∏—á–µ–≥–æ", "–°–≤–∏–Ω—Ü–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ"], correct: 0 },
                    { q: "–ú–æ–∂–Ω–æ –ª–∏ –ø–∏—Ç—å –≤–æ–¥—É –∏–∑-–ø–æ–¥ –∫—Ä–∞–Ω–∞ –≤ –±—É–Ω–∫–µ—Ä–µ?", opts: ["–î–∞, –≤—Å–µ–≥–¥–∞", "–¢–æ–ª—å–∫–æ –∫–∏–ø—è—á—ë–Ω–Ω—É—é", "–ù–µ—Ç, —Ç–æ–ª—å–∫–æ –∏–∑ –∑–∞–ø–∞—Å–æ–≤", "–¢–æ–ª—å–∫–æ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º"], correct: 2 },
                    { q: "–°–∫–æ–ª—å–∫–æ –ª—é–¥–µ–π –≤ —Å—Ä–µ–¥–Ω–µ–º –º–æ–∂–µ—Ç –≤–º–µ—Å—Ç–∏—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π –±—É–Ω–∫–µ—Ä?", opts: ["1-2 —á–µ–ª–æ–≤–µ–∫–∞", "5-10 —á–µ–ª–æ–≤–µ–∫", "100 —á–µ–ª–æ–≤–µ–∫", "1000 —á–µ–ª–æ–≤–µ–∫"], correct: 1 }
                ]
            },
            {
                name: "üåä –¶–£–ù–ê–ú–ò –ò –ù–ê–í–û–î–ù–ï–ù–ò–ï",
                description: "–û–≥—Ä–æ–º–Ω–∞—è –≤–æ–ª–Ω–∞ –∏–¥—ë—Ç –Ω–∞ –≥–æ—Ä–æ–¥! –°–ø–∞—Å–∞–π—Ç–µ—Å—å –≤ –±—É–Ω–∫–µ—Ä!",
                questions: [
                    { q: "–ö–∞–∫ —É–∑–Ω–∞—Ç—å –æ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ —Ü—É–Ω–∞–º–∏?", opts: ["–ü–æ –∑–µ–º–ª–µ—Ç—Ä—è—Å–µ–Ω–∏—é –∏ –∑–≤—É–∫—É", "–ü–æ –æ—Ç—Å—Ç—É–ø–ª–µ–Ω–∏—é –º–æ—Ä—è", "–ü–æ –≤–æ–∑–¥—É—à–Ω—ã–º —Å–∏–≥–Ω–∞–ª–∞–º —Ç—Ä–µ–≤–æ–≥–∏", "–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤–µ—Ä–Ω—ã"], correct: 3 },
                    { q: "–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –µ—Å—Ç—å –Ω–∞ —ç–≤–∞–∫—É–∞—Ü–∏—é –ø—Ä–∏ —Ü—É–Ω–∞–º–∏?", opts: ["–ù–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤", "30-60 –º–∏–Ω—É—Ç", "5-30 –º–∏–Ω—É—Ç", "–ù–µ—Ç –≤—Ä–µ–º–µ–Ω–∏"], correct: 2 },
                    { q: "–ù–∞ –∫–∞–∫—É—é –≤—ã—Å–æ—Ç—É –Ω—É–∂–Ω–æ –∑–∞–±—Ä–∞—Ç—å—Å—è —á—Ç–æ–±—ã —Å–ø–∞—Å—Ç–∏—Å—å?", opts: ["–ù–∞ 2 —ç—Ç–∞–∂", "–ù–∞ 5 —ç—Ç–∞–∂", "–ù–∞ 10+ —ç—Ç–∞–∂–µ–π", "–í –±—É–Ω–∫–µ—Ä"], correct: 3 },
                    { q: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –∑–∞—Å—Ç–∏–≥–Ω—É–ª–æ –≤–æ–ª–Ω–æ–π?", opts: ["–ü–ª—ã—Ç—å –ø–æ —Ç–µ—á–µ–Ω–∏—é", "–•–≤–∞—Ç–∞—Ç—å—Å—è –∑–∞ –ø—Ä–µ–¥–º–µ—Ç—ã", "–ñ–¥–∞—Ç—å, –∫–æ–≥–¥–∞ –≤–æ–¥–∞ –æ—Ç—Å—Ç—É–ø–∏—Ç", "–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤–µ—Ä–Ω—ã"], correct: 3 },
                    { q: "–ú–æ–∂–Ω–æ –ª–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –¥–æ–º –ø–æ—Å–ª–µ —Ü—É–Ω–∞–º–∏ —Å—Ä–∞–∑—É?", opts: ["–î–∞", "–ù–µ—Ç, –æ–ø–∞—Å–Ω–æ", "–¢–æ–ª—å–∫–æ –Ω–∞ —á–∞—Å", "–ó–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—Ä–µ–º–µ–Ω–∏"], correct: 1 }
                ]
            },
            {
                name: "üî• –õ–ï–°–ù–û–ô –ü–û–ñ–ê–† –ò –î–´–ú–û–í–ê–Ø –ó–ê–í–ï–°–ê",
                description: "–û–≥—Ä–æ–º–Ω—ã–π –ª–µ—Å–Ω–æ–π –ø–æ–∂–∞—Ä! –î—ã–º —Ä–∞–∑—ä–µ–¥–∞–µ—Ç –ª—ë–≥–∫–∏–µ! –ü—Ä—è—á—å—Ç–µ—Å—å –≤ –±—É–Ω–∫–µ—Ä!",
                questions: [
                    { q: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ª–µ—Å–Ω–æ–º –ø–æ–∂–∞—Ä–µ?", opts: ["–ë–µ–∂–∞—Ç—å –≤ –ª–µ—Å", "–≠–≤–∞–∫—É–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –±—É–Ω–∫–µ—Ä –∏–ª–∏ –ø–æ–¥–≤–∞–ª", "–û—Å—Ç–∞—Ç—å—Å—è –¥–æ–º–∞", "–°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –æ–≥–æ–Ω—å"], correct: 1 },
                    { q: "–ö–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å —Å–µ–±—è –æ—Ç –¥—ã–º–∞?", opts: ["–ú–∞—Å–∫–∞ N95 –∏–ª–∏ –ø—Ä–æ—Ç–∏–≤–æ–≥–∞–∑", "–ú–æ–∫—Ä–∞—è —Ç–∫–∞–Ω—å –Ω–∞ –ª–∏—Ü–µ", "–†–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä", "–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–¥—Ö–æ–¥—è—Ç"], correct: 3 },
                    { q: "–ö–∞–∫ –¥–æ–ª–≥–æ –≥–æ—Ä–∏—Ç –∫—Ä—É–ø–Ω—ã–π –ª–µ—Å–Ω–æ–π –ø–æ–∂–∞—Ä?", opts: ["–ù–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤", "–ù–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π", "–ù–µ–¥–µ–ª–∏ –∏–ª–∏ –º–µ—Å—è—Ü—ã", "–ó–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–≥–æ–¥—ã"], correct: 3 },
                    { q: "–ß—Ç–æ –Ω–µ–ª—å–∑—è –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø–æ–∂–∞—Ä–µ?", opts: ["–û—Ç–∫—Ä—ã–≤–∞—Ç—å –æ–∫–Ω–∞", "–ë–µ–∂–∞—Ç—å –ø—Ä–æ—Ç–∏–≤ –≤–µ—Ç—Ä–∞", "–í–∫–ª—é—á–∞—Ç—å —ç–ª–µ–∫—Ç—Ä–æ–ø—Ä–∏–±–æ—Ä—ã", "–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤–µ—Ä–Ω—ã"], correct: 3 },
                    { q: "–°–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –Ω—É–∂–Ω–æ –¥—ã—à–∞—Ç—å —á–∏—Å—Ç—ã–º –≤–æ–∑–¥—É—Ö–æ–º –ø–æ—Å–ª–µ –¥—ã–º–∞?", opts: ["1-2 —á–∞—Å–∞", "6-8 —á–∞—Å–æ–≤", "24 —á–∞—Å–∞", "–ù–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π"], correct: 1 }
                ]
            },
            {
                name: "ü¶† –≠–ü–ò–î–ï–ú–ò–Ø –ò –ö–ê–†–ê–ù–¢–ò–ù",
                description: "–û–ø–∞—Å–Ω—ã–π –≤–∏—Ä—É—Å –≥—É–ª—è–µ—Ç –ø–æ –º–∏—Ä—É! –ó–∞–∫—Ä—ã–≤–∞–π—Ç–µ—Å—å –≤ –±—É–Ω–∫–µ—Ä –Ω–∞ –∫–∞—Ä–∞–Ω—Ç–∏–Ω!",
                questions: [
                    { q: "–ü–µ—Ä–≤—ã–π –ø—Ä–∏–∑–Ω–∞–∫ –∏–Ω—Ñ–µ–∫—Ü–∏–∏?", opts: ["–ö–∞—à–µ–ª—å –∏ –ª–∏—Ö–æ—Ä–∞–¥–∫–∞", "–ì–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å", "–°–ª–∞–±–æ—Å—Ç—å", "–ú–æ–∂–µ—Ç –±—ã—Ç—å –≤—Å—ë"], correct: 3 },
                    { q: "–°–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –¥–ª–∏—Ç—Å—è –∫–∞—Ä–∞–Ω—Ç–∏–Ω –ø—Ä–∏ –∏–Ω—Ñ–µ–∫—Ü–∏–∏?", opts: ["3 –¥–Ω—è", "7 –¥–Ω–µ–π", "14 –¥–Ω–µ–π", "21 –¥–µ–Ω—å"], correct: 2 },
                    { q: "–ö–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å —Å–µ–±—è –æ—Ç –≤–∏—Ä—É—Å–∞?", opts: ["–ú–∞—Å–∫–∞", "–î–∏—Å—Ç–∞–Ω—Ü–∏—è", "–ì–∏–≥–∏–µ–Ω–∞ —Ä—É–∫", "–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã"], correct: 3 },
                    { q: "–ú–æ–∂–Ω–æ –ª–∏ –≤—ã—Ö–æ–¥–∏—Ç—å –∏–∑ –¥–æ–º–∞ –ø—Ä–∏ –∫–∞—Ä–∞–Ω—Ç–∏–Ω–µ?", opts: ["–î–∞, –≤—Å–µ–≥–¥–∞", "–ù–µ—Ç, –Ω–∏–∫–æ–≥–¥–∞", "–¢–æ–ª—å–∫–æ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏", "–ó–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–∞–≤–∏–ª"], correct: 2 },
                    { q: "–°–∫–æ–ª—å–∫–æ –∑–∞–ø–∞—Å–æ–≤ –µ–¥—ã –Ω—É–∂–Ω–æ –Ω–∞ 2 –Ω–µ–¥–µ–ª–∏ –∫–∞—Ä–∞–Ω—Ç–∏–Ω–∞?", opts: ["–ù–∞ 3 –¥–Ω—è", "–ù–∞ –Ω–µ–¥–µ–ª—é", "–ù–∞ 2 –Ω–µ–¥–µ–ª–∏", "–ù–∞ –º–µ—Å—è—Ü"], correct: 2 }
                ]
            }
        ];

        let currentScenario = scenarios[Math.floor(Math.random() * scenarios.length)];
        let gameState = {
            team1: 0,
            team2: 0,
            currentTeam: 1,
            board: Array(25).fill(null),
            answered: Array(25).fill(false),
            gameOver: false,
            questions: []
        };

        function initGame() {
            document.getElementById('scenarioDisplay').textContent = `üö® ${currentScenario.name}\n${currentScenario.description}`;
            
            // Shuffle questions
            gameState.questions = currentScenario.questions.map((q, idx) => ({...q, id: idx}));
            gameState.questions.sort(() => Math.random() - 0.5);

            // Extend to 25 questions by repeating
            while (gameState.questions.length < 25) {
                gameState.questions.push(...currentScenario.questions);
            }
            gameState.questions = gameState.questions.slice(0, 25);

            drawBoard();
        }

        function drawBoard() {
            const board = document.getElementById('gameBoard');
            board.innerHTML = '';

            for (let i = 0; i < 25; i++) {
                const cell = document.createElement('button');
                cell.className = 'cell';
                
                let cellClass = '';
                if (gameState.answered[i]) {
                    cellClass = gameState.board[i] === 1 ? 'answered-correct' : 'answered-wrong';
                }

                if (cellClass) cell.classList.add(cellClass);

                if (gameState.answered[i]) {
                    cell.textContent = gameState.board[i] === 1 ? '‚úÖ' : '‚ùå';
                    cell.disabled = true;
                } else {
                    cell.innerHTML = `<span class="cell-number">#${i + 1}</span><span class="cell-text">‚ùì</span>`;
                    cell.onclick = () => showQuestion(i);
                }

                board.appendChild(cell);
            }
        }

        function showQuestion(index) {
            if (gameState.answered[index]) return;

            const question = gameState.questions[index];
            let content = `
                <h2>‚ùì –í–û–ü–†–û–° #${index + 1}</h2>
                <div class="question-scenario">
                    üö® ${currentScenario.name}
                </div>
                <div class="question-text">
                    ${question.q}
                </div>
                <div class="options-container">
            `;

            question.opts.forEach((option, idx) => {
                content += `<button class="option-btn" onclick="selectAnswer(${index}, ${idx}, ${question.correct})">${String.fromCharCode(65 + idx)}) ${option}</button>`;
            });

            content += `
                </div>
                <div class="button-group">
                    <button class="btn btn-neutral" onclick="closeQuestion()">‚ùå –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
                </div>
            `;

            document.getElementById('modalContent').innerHTML = content;
            document.getElementById('questionModal').classList.add('active');
        }

        function selectAnswer(index, selectedIdx, correctIdx) {
            const isCorrect = selectedIdx === correctIdx;
            gameState.answered[index] = true;
            gameState.board[index] = isCorrect ? 1 : 0;

            const optionBtns = document.querySelectorAll('.option-btn');
            optionBtns.forEach((btn, idx) => {
                if (idx === correctIdx) {
                    btn.style.background = 'linear-gradient(135deg, #11998e, #38ef7d)';
                    btn.style.borderColor = '#38ef7d';
                    btn.style.color = '#0f1419';
                }
                if (idx === selectedIdx && !isCorrect) {
                    btn.style.background = 'linear-gradient(135deg, #cc0000, #ff0000)';
                    btn.style.borderColor = '#ff0000';
                }
                btn.disabled = true;
            });

            setTimeout(() => {
                let content = '';
                if (isCorrect) {
                    gameState[`team${gameState.currentTeam}`]++;
                    content = `
                        <h2>‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û!</h2>
                        <div class="emoji-decoration">üéâüéâüéâ</div>
                        <p style="color: #11998e; font-size: 1.3em;">–ö–æ–º–∞–Ω–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç –∫–ª–µ—Ç–∫—É!</p>
                        <p>–°–µ–π—á–∞—Å –Ω–∞ –¥–æ—Å–∫–µ: ${gameState.team1} vs ${gameState.team2} –∫–ª–µ—Ç–æ–∫</p>
                        <button class="btn btn-correct" onclick="continueGame()">‚û°Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                    `;
                } else {
                    content = `
                        <h2>‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!</h2>
                        <div class="emoji-decoration">üò≠üò≠üò≠</div>
                        <p style="color: #ff6666; font-size: 1.3em;">–ö–ª–µ—Ç–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –ø—É—Å—Ç–æ–π!</p>
                        <p>–•–æ–¥ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –¥—Ä—É–≥–æ–π –∫–æ–º–∞–Ω–¥–µ!</p>
                        <button class="btn btn-wrong" onclick="switchTeam()">‚û°Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                    `;
                }

                document.getElementById('modalContent').innerHTML = content;
                drawBoard();
                updateScores();
            }, 800);
        }

        function switchTeam() {
            closeQuestion();
            gameState.currentTeam = gameState.currentTeam === 1 ? 2 : 1;
            updateScores();
        }

        function continueGame() {
            closeQuestion();
            gameState.currentTeam = gameState.currentTeam === 1 ? 2 : 1;
            updateScores();
            checkWin();
        }

        function closeQuestion() {
            document.getElementById('questionModal').classList.remove('active');
        }

        function updateScores() {
            document.getElementById('team1Score').textContent = gameState.team1;
            document.getElementById('team2Score').textContent = gameState.team2;
            document.getElementById('currentTeam').textContent = gameState.currentTeam === 1 ? 'FRONTEND üé®' : 'BACKEND üîß';
        }

        function checkWin() {
            // Check rows
            for (let row = 0; row < 5; row++) {
                for (let col = 0; col <= 0; col++) {
                    let count1 = 0, count2 = 0;
                    for (let i = 0; i < 5; i++) {
                        const idx = row * 5 + i;
                        if (gameState.board[idx] === 1) count1++;
                        if (gameState.board[idx] === 0) count2++;
                    }
                    if (count1 === 5) return endGame(1);
                }
            }

            // Check columns
            for (let col = 0; col < 5; col++) {
                for (let row = 0; row <= 0; row++) {
                    let count1 = 0, count2 = 0;
                    for (let i = 0; i < 5; i++) {
                        const idx = i * 5 + col;
                        if (gameState.board[idx] === 1) count1++;
                        if (gameState.board[idx] === 0) count2++;
                    }
                    if (count1 === 5) return endGame(1);
                }
            }

            // Check diagonals
            let count1 = 0, count2 = 0;
            for (let i = 0; i < 5; i++) {
                const idx = i * 6;
                if (gameState.board[idx] === 1) count1++;
                if (gameState.board[idx] === 0) count2++;
            }
            if (count1 === 5) return endGame(1);

            count1 = 0;
            for (let i = 0; i < 5; i++) {
                const idx = (i + 1) * 4;
                if (gameState.board[idx] === 1) count1++;
            }
            if (count1 === 5) return endGame(1);
        }

        function endGame(winner) {
            gameState.gameOver = true;
            let content = `
                <div class="game-end">
                    <h2>üèÜ –í–´–ñ–ò–õ–ò! –ë–£–ù–ö–ï–† –°–ü–ê–°–Å–ù! üèÜ</h2>
                    <div class="emoji-decoration">üéä‚ú®üéä</div>
                    <div class="winner">
                        <p style="font-size: 1.4em;">–ö–æ–º–∞–Ω–¥–∞ ${winner === 1 ? 'FRONTEND üé®' : 'BACKEND üîß'} –∑–∞–≤–æ–µ–≤–∞–ª–∞ –±—É–Ω–∫–µ—Ä!</p>
                        <p>–í—ã –ø–µ—Ä–µ–∂–∏–ª–∏ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—É: ${currentScenario.name}</p>
                        <p style="margin-top: 20px; color: #ffaa00;">üéØ –§–∏–Ω–∞–ª—å–Ω—ã–π —Å—á—ë—Ç:</p>
                        <p>FRONTEND: ${gameState.team1} –∫–ª–µ—Ç–æ–∫</p>
                        <p>BACKEND: ${gameState.team2} –∫–ª–µ—Ç–æ–∫</p>
                    </div>
                    <button class="btn btn-correct" onclick="resetGame()" style="margin-top: 30px;">üîÑ –ù–æ–≤–∞—è –ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞</button>
                </div>
            `;
            document.getElementById('modalContent').innerHTML = content;
            document.getElementById('questionModal').classList.add('active');
        }

        function resetGame() {
            currentScenario = scenarios[Math.floor(Math.random() * scenarios.length)];
            gameState = {
                team1: 0,
                team2: 0,
                currentTeam: 1,
                board: Array(25).fill(null),
                answered: Array(25).fill(false),
                gameOver: false,
                questions: []
            };
            document.getElementById('questionModal').classList.remove('active');
            initGame();
            updateScores();
        }

        // Initialize
        initGame();
        updateScores();
    </script>
</body>
</html>
